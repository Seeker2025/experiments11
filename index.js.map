{"version":3,"file":"index.js","sources":["../src/js/pagination.js","../src/js/render.js","../src/main.js"],"sourcesContent":["export const container = document.querySelector('.tui-pagination');\nexport const options = {\n    totalItems: 20,\n     itemsPerPage: 10,\n     visiblePages: 5,\n    page: 1,\n     centerAlign: false,\n     firstItemClassName: 'tui-first-child',\n     lastItemClassName: 'tui-last-child',\n     template: {\n         page: '<a href=\"#\" class=\"box04 tui-page-btn\">{{page}}</a>',\n         currentPage: '<strong class=\"box03 tui-page-btn tui-is-selected\">{{page}}</strong>',\n         moveButton:\n             '<a href=\"#\" class=\"box05 tui-page-btn tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</a>',\n         disabledMoveButton:\n             '<span class=\"box06 tui-page-btn tui-is-disabled tui-{{type}}\">' +\n                 '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n             '</span>',\n         moreButton:\n             '<a href=\"#\" class=\"box07 tui-page-btn tui-{{type}}-is-ellip\">' +\n                 '<span class=\"tui-ico-ellip\">...</span>' +\n             '</a>'\n     }\n    };","// import { \n//         toShowModalWin,\n//         toCloseModal\n//  } from './madal.js';\n\nconst galleryRef = document.querySelector('.gallery');\n// const section = document.querySelector('.section');\n// const body = document.querySelector('body');\n\n// console.log(galleryRef);\n// console.log(modal);\n// console.log(cross);\n\nexport function renderLayout(arr){\n    const ren = arr.map(({poster_path, id}, idx) =>{\n    return `\n        <li class=\"card\" id=${id}>\n            <h2>${id}</h2>\n           <img src=\"https://image.tmdb.org/t/p/w500${poster_path}\" width=\"\" alt=\"\">\n           \n        </li>                                              \n        `\n}).join('');\n\n galleryRef.innerHTML = ren;\n}\n\n galleryRef.addEventListener('click', modalShow);\n                                                    function modalShow(evt){\n                                                        window.addEventListener('keydown', (evt)=>{\n                                                            if(evt.code === 'Escape'){\n                                                            toCloseModal();\n                                                        }\n                                                    });\n\n    // if(one){\n    //     console.log('Hi02');\n    //     return;\n    // }\n    // one = evt.target\n   const nestedElem = evt.target;\n   const upperLi = nestedElem.closest('.card');\n   console.log(upperLi);\n        //  if(upperLi !== evt.target){\n        //     toCloseModal(); \n        //     console.log('Noup!');\n        //  }                                           \n//    console.log(upperLi.getAttribute('id'));\n   const selectIDbyClick = Number(upperLi.getAttribute('id'));\n//    console.log(selectIDbyClick);\n//    const arr = [1088166, 934456, 1007734,];\n//    const one = arr.find(itm => itm === 1088166)\n//    toShowModalWin(selectIDbyClick);\n//    toGetOneId(selectIDbyClick);\n//     console.log(typeof(selectIDbyClick));\n//    console.log(one);\n   \n//   mess.find(itm => itm.id === id);\n    // console.log(mess.find(itm => itm.id === id));\n//    toShowModalWin();\n\n//    const textWithId = upperLi.querySelector('li h2');\n   \n//    console.log( textWithId.textContent);\n \n   //    setTimeout(()=>{\n//         upperLi.classList.remove('visible');\n//    }, 2000)\n//    upperLi.classList.remove('visible');\n  \n\n //           setTimeout(()=>{\n//         upperLi.classList.remove('visible');\n//    }, 2000) \n         \n    \n//   modalRender();\n//   galleryRef.removeEventListener('click', modalShow);\n    // console.log(evt.target.nodeName);\n    // evt.target.classList.add('border');\n    // body.classList.add('show-modal');\n    \n       // if(evt.code === 'Escape'){\n        \n    //  }\n    // galleryRef.removeEventListener('click', modalShow);\n}\n\n    // console.log(cross);\n    // cross.addEventListener('click', ()=>{\n    //      console.log('cross01');\n    //      upperLi.classList.remove('visible');\n    // });","//   const pag = document.getElementById('pagination2');\n//   console.log(pag);\n import Pagination from  'tui-pagination'; \n import { options,\n          container\n } from './js/pagination.js';\n// //  import tui from  'tui-pagination'; \n \n//    var pagination2 = new tui.Pagination(document.getElementById('pagination2'), {\n//         totalItems: 10,\n//         itemsPerPage: 1,\n//         visiblePages: 4,\n//         centerAlign: true\n//     });\n\n// const bo = document.querySelector('.boobo');\n// console.log(bo);\n\nimport axios from 'axios';\nimport {  renderLayout } from './js/render.js';\n// console.log(renderLayout);\n\n// const APIKey = '3af5fd0b838bf2a259ff06cb75968037';\nconst bearer = 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzYWY1ZmQwYjgzOGJmMmEyNTlmZjA2Y2I3NTk2ODAzNyIsIm5iZiI6MTY3MDIyNjI2NC4xMzIsInN1YiI6IjYzOGRhMTU4MTI4M2U5MDA5NzY3Njg3OCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LbbNBAE2uu7qSjmBFjXYtTYw99nAa-BxDgIdgH9cD08';\nconst BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day?language=en-US';\n// const BASE_URL_people = 'https://api.themoviedb.org/3/trending/person/day?language=en-US';\n// const BASE_URL_collections = 'https://api.themoviedb.org/3/collection/collection_id?language=en-US';\n\nexport async function getAPIdata(onePage=1){\n    try{\n        await axios.get(`${BASE_URL}&page=${onePage}`, {\n                          headers: {\n                            'Content-Type': 'application/json',\n                            Authorization: bearer,\n                                    }\n })\n                                      .then(response => {\n                                          // console.log(response.data.results)\n                                          // console.log(response.data)\n                                          const { results, total_results, total_pages }=response.data;\n                                          console.log(results, total_results, total_pages);\n                                          let totalPages = total_pages;\n        if (onePage < totalPages) {\n          options.totalItems = totalPages;\n          options.page = onePage;\n          const pagination = new Pagination(container, options);\n          pagination.on('afterMove', function (event) {\n          onePage = event.page;\n            getAPIdata(onePage);\n        });\n      }\n                      // console.log(response.data.results[0])\n                      // console.log(response.data.results[0].id)\n                      // const mess = JSON.stringify(response.data.results);\n                      localStorage.setItem(\"mess\", JSON.stringify(response.data.results));\n                      renderLayout(response.data.results);\n                    }\n)\n \n    }catch(error){\n    console.log(error);\n    }\n}\n\n\ngetAPIdata();\n"],"names":["container","options","galleryRef","renderLayout","arr","ren","poster_path","id","idx","modalShow","evt","upperLi","bearer","BASE_URL","getAPIdata","onePage","axios","response","results","total_results","total_pages","totalPages","Pagination","event","error"],"mappings":"iyBAAO,MAAMA,EAAY,SAAS,cAAc,iBAAiB,EACpDC,EAAU,CACnB,WAAY,GACX,aAAc,GACd,aAAc,EACf,KAAM,EACL,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACN,KAAM,sDACN,YAAa,uEACb,WACI,yGAGJ,mBACI,sHAGJ,WACI,yGAGb,CACA,ECpBMC,EAAa,SAAS,cAAc,UAAU,EAQ7C,SAASC,EAAaC,EAAI,CAC7B,MAAMC,EAAMD,EAAI,IAAI,CAAC,CAAC,YAAAE,EAAa,GAAAC,CAAE,EAAGC,IACjC;AAAA,8BACmBD,CAAE;AAAA,kBACdA,CAAE;AAAA,sDACkCD,CAAW;AAAA;AAAA;AAAA,SAIhE,EAAE,KAAK,EAAE,EAETJ,EAAW,UAAYG,CACxB,CAECH,EAAW,iBAAiB,QAASO,CAAS,EACK,SAASA,EAAUC,EAAI,CACnB,OAAO,iBAAiB,UAAYA,GAAM,CACnCA,EAAI,OAAS,UAChB,aAAY,CAEpB,CAAC,EAQlD,MAAMC,EADaD,EAAI,OACI,QAAQ,OAAO,EAC1C,QAAQ,IAAIC,CAAO,EAMK,OAAOA,EAAQ,aAAa,IAAI,CAAC,CAsC5D,CC/DA,MAAMC,EAAS,yPACTC,EAAW,iEAIV,eAAeC,EAAWC,EAAQ,EAAE,CACvC,GAAG,CACC,MAAMC,EAAM,IAAI,GAAGH,CAAQ,SAASE,CAAO,GAAI,CAC7B,QAAS,CACP,eAAgB,mBAChB,cAAeH,CAC3C,CACA,CAAE,EACqC,KAAKK,GAAY,CAGd,KAAM,CAAE,QAAAC,EAAS,cAAAC,EAAe,YAAAC,CAAW,EAAGH,EAAS,KACvD,QAAQ,IAAIC,EAASC,EAAeC,CAAW,EAC/C,IAAIC,EAAaD,EAC/CL,EAAUM,IACZpB,EAAQ,WAAaoB,EACrBpB,EAAQ,KAAOc,EACI,IAAIO,EAAWtB,EAAWC,CAAO,EACzC,GAAG,YAAa,SAAUsB,EAAO,CAC5CR,EAAUQ,EAAM,KACdT,EAAWC,CAAO,CACtB,CAAC,GAKa,aAAa,QAAQ,OAAQ,KAAK,UAAUE,EAAS,KAAK,OAAO,CAAC,EAClEd,EAAac,EAAS,KAAK,OAAO,CACpC,CACpB,CAEI,OAAOO,EAAM,CACb,QAAQ,IAAIA,CAAK,CACjB,CACJ,CAGAV,EAAU"}